```{r}
library(microbenchmark)
n <- 10000
labels <- paste0(sample(LETTERS, n, replace = T), 1:n)
fastmap_h <- fastmap::fastmap()
fget <- fastmap_h$get
fset <- fastmap_h$set
collections_h <- collections::Dict()
cget <- collections_h$get
cset <- collections_h$set

microbenchmark(
    fastmap = {fastmap_h$reset(); for (i in 1:n) fset(labels[i], rnorm(1))},
    collections = {collections_h$clear(); for (i in 1:n) cset(labels[i], rnorm(1))},
    unit = "relative",
    times = 10
)
microbenchmark(
    fastmap = for (i in 1:n) fget(labels[i]),
    collections = for (i in 1:n) cget(labels[i]),
    unit = "relative",
    times = 10
)
```
